# üéÆ Game License Server for Unity

> –ü—Ä–æ—Å—Ç–æ–µ, –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏ –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∑–∞—â–∏—Ç—ã Unity-–∏–≥—Ä —á–µ—Ä–µ–∑ **JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é** –∏ —Å–∏—Å—Ç–µ–º—É –ª–∏—Ü–µ–Ω–∑–∏–π.  
> –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**, **Unity SDK**, —Ä–∞–±–æ—Ç—É —Å **SQLite** –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ **PostgreSQL / MySQL**.

![License](https://img.shields.io/badge/License-MIT-blue)
![Node.js](https://img.shields.io/badge/Node.js-v18%2B-green)
![SQLite](https://img.shields.io/badge/Database-SQLite-lightblue)
![Unity](https://img.shields.io/badge/Unity-SDK-ready-orange)
![Status](https://img.shields.io/badge/Status-Active-success)

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîë **JWT Authentication** ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –≤—ã–¥–∞—á–∞ —Ç–æ–∫–µ–Ω–æ–≤.
- üìÖ **–°–∏—Å—Ç–µ–º–∞ –ª–∏—Ü–µ–Ω–∑–∏–π** ‚Äî —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –≤ –¥–Ω—è—Ö –∏ —Å–µ–∫—É–Ω–¥–∞—Ö.
- üõ° **Secure API** ‚Äî –∏–≥—Ä–∞ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –±–µ–∑ –≤–∞–ª–∏–¥–Ω–æ–≥–æ —Ç–æ–∫–µ–Ω–∞.
- üë®‚Äçüíª **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –ª–∏—Ü–µ–Ω–∑–∏—è–º–∏.
- üéÆ **Unity SDK** ‚Äî –≥–æ—Ç–æ–≤—ã–µ C#-—Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.
- üîå **–û—Ñ–ª–∞–π–Ω-–ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏—Ü–µ–Ω–∑–∏–π** ‚Äî –∏–≥—Ä–∞ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.
- üóÑ **SQLite** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ **PostgreSQL** –∏ **MySQL**.
- üöÄ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```py
game-license-server/
‚îú‚îÄ‚îÄ server.js # –û—Å–Ω–æ–≤–Ω–æ–π Express-—Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ package.json # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ routes/ # API —Ä–æ—É—Ç—ã (auth.js, users.js, licenses.js)
‚îú‚îÄ‚îÄ frontend/ # –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
‚îú‚îÄ‚îÄ unity-sdk/ # Unity C# SDK –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ models/ # –ú–æ–¥–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ª–∏—Ü–µ–Ω–∑–∏–π
‚îú‚îÄ‚îÄ config/ # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ .env
‚îú‚îÄ‚îÄ .gitignore
‚îî‚îÄ‚îÄ README.md
```

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone https://github.com/eichdmk/Game-License-Server.git
cd Game-License-Server

2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

3. –°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª .env
JWT_SECRET=your_secret_key
PORT=5000


4. –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä
node server.js


–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:
http://localhost:5000


```
## üîå API Endpoints

### 1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

POST /login ‚Äî –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É.

üì• –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
```json
{
  "username": "testUser",
  "password": "123456"
}
```
üì§ –û—Ç–≤–µ—Ç:
```json
{
    "token": "jwt.token.here",
    "user": {
        "firstName": "testUser",
        "lastName": "TestUSer",
        "email": "test1@test.ru",
        "phone": "test",
        "isAdmin": false,
        "licenseLeftDays": 10
    },
    "offlineLicense": {
        "userId": 3,
        "email": "test1@test.ru",
        "licenseEndDate": 1757529873334,
        "issuedAt": 1756748121035
    },
    "licenseSignature": ""

}
```
### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

GET /users/me

üîë –ó–∞–≥–æ–ª–æ–≤–æ–∫:
```makefile
Authorization: Bearer <TOKEN>
```

## üì¥ –û—Ñ–ª–∞–π–Ω-–ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏—Ü–µ–Ω–∑–∏–π

Game License Server –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º.
–ö–æ–≥–¥–∞ –∫–ª–∏–µ–Ω—Ç –≤–ø–µ—Ä–≤—ã–µ –ª–æ–≥–∏–Ω–∏—Ç—Å—è, —Å–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

offlineLicense ‚Üí –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ª–∏—Ü–µ–Ω–∑–∏–∏.

licenseSignature ‚Üí –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –ø–æ–¥–ø–∏—Å—å, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∞—è –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç—å –ª–∏—Ü–µ–Ω–∑–∏–∏.

Unity-–∏–≥—Ä–∞ –º–æ–∂–µ—Ç:

–°–æ—Ö—Ä–∞–Ω—è—Ç—å offlineLicense –∏ licenseSignature –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.

–ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–∏—Ü–µ–Ω–∑–∏—é –¥–∞–∂–µ –±–µ–∑ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.

–ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∏–≥—Ä–µ, –µ—Å–ª–∏ —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –∏—Å—Ç—ë–∫.

## üõ° –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

–ü–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∏–¥–µ bcrypt-—Ö—ç—à–µ–π.

–§–∞–π–ª—ã .env –∏ game.db –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ .gitignore.

API –∑–∞—â–∏—â–µ–Ω–æ —á–µ—Ä–µ–∑ JWT.

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –æ—Ñ–ª–∞–π–Ω-–ø–æ–¥–ø–∏—Å—å –ª–∏—Ü–µ–Ω–∑–∏–π —Å –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π.

Unity SDK —Ö—Ä–∞–Ω–∏—Ç —Ç–æ–∫–µ–Ω –≤ PlayerPrefs.

## üöÄ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (PostgreSQL / MySQL)

SQLite –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –Ω–µ–±–æ–ª—å—à–∏—Ö –∏–≥—Ä,
–Ω–æ –ø—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ –Ω–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ PostgreSQL –∏–ª–∏ MySQL.

### 1.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—Ä–∞–π–≤–µ—Ä—ã:
```bash
# PostgreSQL
npm install sequelize pg pg-hstore

# MySQL
npm install sequelize mysql2
```
# 2.–£–∫–∞–∂–∏—Ç–µ –≤ .env:
```bash
# PostgreSQL
npm install sequelize pg pg-hstore

# MySQL
npm install sequelize mysql2

DB_DIALECT=postgres
DB_HOST=localhost
DB_NAME=game_license
DB_USER=admin
DB_PASS=123456
```

### 3.–ú–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ sequelize.sync().